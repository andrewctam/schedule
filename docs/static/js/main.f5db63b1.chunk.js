(this.webpackJsonpschedule=this.webpackJsonpschedule||[]).push([[0],{14:function(e,t,s){"use strict";s.r(t);var n=s(1),r=s.n(n),i=s(8),c=s.n(i),a=s(2),l=s(3),o=s(5),h=s(4),d=s(0),u=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(a.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){var s=t.target;s.value.includes(">")||s.value.includes("<")||e.props.updateSchedule(e.props.id,parseInt(s.id.substring(s.id.indexOf(":")+1)),s.value)},e.handleChecked=function(t){var s=t.target;e.props.updateSchedule(e.props.id,parseInt(s.id.substring(s.id.indexOf(":")+1)),s.checked)},e.handleDelete=function(t){window.confirm("Are you sure you want to delete this from your schedule?")&&e.props.removeFromSchedule(e.props.id)},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"tsEditor",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-sm-6 name",children:Object(d.jsx)("input",{id:this.props.id+":0",type:"text",onChange:this.handleChange,value:this.props.name,placeholder:"Name"})}),Object(d.jsx)("div",{className:"col-sm-6 link",children:Object(d.jsx)("input",{id:this.props.id+":3",type:"text",onChange:this.handleChange,value:this.props.info,placeholder:"Class Location or Link with http(s)://"})})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-sm-6 times",children:[Object(d.jsx)("input",{id:this.props.id+":1",type:"time",onChange:this.handleChange,required:!0,value:this.props.startTime}),Object(d.jsx)("input",{id:this.props.id+":2",type:"time",onChange:this.handleChange,value:this.props.endTime})]}),Object(d.jsxs)("div",{className:"col-sm-6 checks",children:[Object(d.jsx)(p,{htmlID:this.props.id+":4",dateBool:this.props.sun,date:"Sun",handleChecked:this.handleChecked}),Object(d.jsx)(p,{htmlID:this.props.id+":5",dateBool:this.props.mon,date:"Mon",handleChecked:this.handleChecked}),Object(d.jsx)(p,{htmlID:this.props.id+":6",dateBool:this.props.tue,date:"Tue",handleChecked:this.handleChecked}),Object(d.jsx)(p,{htmlID:this.props.id+":7",dateBool:this.props.wed,date:"Wed",handleChecked:this.handleChecked}),Object(d.jsx)(p,{htmlID:this.props.id+":8",dateBool:this.props.thu,date:"Thu",handleChecked:this.handleChecked}),Object(d.jsx)(p,{htmlID:this.props.id+":9",dateBool:this.props.fri,date:"Fri",handleChecked:this.handleChecked}),Object(d.jsx)(p,{htmlID:this.props.id+":10",dateBool:this.props.sat,date:"Sat",handleChecked:this.handleChecked})]})]}),Object(d.jsx)("button",{className:"btn btn-danger btn-sm delete",onClick:this.handleDelete,children:"Delete From Schedule"})]})}}]),s}(r.a.Component),p=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"form-check form-check-inline",children:[Object(d.jsx)("input",{id:this.props.htmlID,className:"form-check-input",type:"checkbox",onChange:this.props.handleChecked,checked:this.props.dateBool}),Object(d.jsx)("label",{htmlFor:this.props.i,className:"form-check-label",children:this.props.date})]})}}]),s}(r.a.Component),j=u,b=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).stringToDate=function(e){var t=e.substring(0,2),s=e.substring(3,5),n=new Date;return n.setHours(parseInt(t)),n.setMinutes(parseInt(s)),n.setSeconds(0),n},n.toggleAndVerify=function(){if(n.state.editorActive)for(var e=0;e<n.props.schedule.length;e++)if(n.stringToDate(n.props.schedule[e][2])<n.stringToDate(n.props.schedule[e][1])){if(""==n.props.schedule[e][0])switch(e+1){case 1:var t="the "+(e+1)+"st class";break;case 2:t="the "+(e+1)+"nd class";break;case 3:t="the "+(e+1)+"rd class";break;default:t="the "+(e+1)+"th class"}else t=n.props.schedule[e][0];return window.confirm("The end time of "+t+" is before the start time. Would you like to close the editor anyway?")?(n.setState({editorActive:!1}),null):null}n.setState({editorActive:!n.state.editorActive})},n.handleAdd=function(e){n.props.addToSchedule()},n.handleChecked=function(e){n.props.toggleWeekly()},n.state={editorActive:!1},n}return Object(l.a)(s,[{key:"render",value:function(){var e,t=this,s=this.props.schedule.map((function(e,s){return Object(d.jsx)(j,{id:s,updateSchedule:t.props.updateSchedule,removeFromSchedule:t.props.removeFromSchedule,name:e[0],startTime:e[1],endTime:e[2],info:e[3],sun:e[4],mon:e[5],tue:e[6],wed:e[7],thu:e[8],fri:e[9],sat:e[10]},"tse"+s)}));e=window.location.href.length>=2e3?Object(d.jsx)("p",{className:"editorInfo",children:"Warning: The schedule link is too big (>2000 chars). If you have links, try using a link shortener like bit.ly to shorten the links"}):this.props.schedule.length>0?Object(d.jsxs)("p",{className:"editorInfo",children:["You can save your schedule by bookmarking this page or copying "," ",Object(d.jsx)("a",{href:window.location.href,children:"this link"})," (same as link in address bar)"]}):Object(d.jsx)("p",{className:"editorInfo",children:"Your schedule is currently empty. Click [Add Class] below to add a new class"});var n=Object(d.jsxs)("div",{children:[e,Object(d.jsxs)("div",{className:"form-check form-switch",children:[Object(d.jsx)("input",{className:"form-check-input",onChange:this.handleChecked,checked:this.props.weekly,type:"checkbox",id:"weeklyToggle"}),Object(d.jsx)("label",{className:"form-check-label",htmlFor:"weeklyToggle",children:"View Weekly Schedule"})]}),Object(d.jsxs)("div",{className:"editors",children:[Object(d.jsx)("hr",{}),s]}),Object(d.jsx)("button",{className:"btn btn-primary",onClick:this.handleAdd,children:"Add Class"}),Object(d.jsx)("hr",{})]});return Object(d.jsxs)("div",{className:"Editor",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)(v,{})}),Object(d.jsx)("div",{className:"col-sm-6 editSchedule",children:Object(d.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:this.toggleAndVerify,children:this.state.editorActive?"Close Editor":"Edit Schedule"})})]}),this.state.editorActive?n:Object(d.jsx)("hr",{})]})}}]),s}(r.a.Component),v=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e=(new Date).toString(),t=e.substring(0,10),s=parseInt(e.substring(16,18)),n=e.substring(19,24),r=s<12?"AM":"PM";return s>12?s%=12:0===s&&(s=12),Object(d.jsx)("button",{type:"button",className:"btn btn-secondary",children:t+" - "+s+":"+n+" "+r})}},{key:"componentDidMount",value:function(){var e=this;this.waitForNextSecond=setInterval((function(){return e.repeatEverySecond()}),1e3-(new Date).getMilliseconds())}},{key:"repeatEverySecond",value:function(){var e=this;clearInterval(this.waitForNextSecond),this.forceUpdate(),this.interval=setInterval((function(){return e.forceUpdate()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),clearInterval(this.waitForNextSecond)}}]),s}(r.a.Component),f=b,m=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(a.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).to24H=function(e){var t=parseInt(e.substring(0,2)),s=e.substring(3,5);if(isNaN(t)||isNaN(s))return"--:--";var n=t<12?"AM":"PM";return t>12?t%=12:0===t&&(t=12),t+":"+s+" "+n},e.handleClick=function(t){if(e.props.info.includes(".")&&(e.props.info.includes("http://")||e.props.info.includes("https://")))try{window.open(new URL(e.props.info),"_blank").focus()}catch(s){console.log(e.props.info+" is an Invalid URL")}},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsxs)("button",{onClick:this.handleClick,className:"btn btn-info "+this.props.when,children:[Object(d.jsx)("h1",{className:"text-center text-truncate",children:this.props.name}),Object(d.jsxs)("h6",{className:"text-center text-truncate",children:[this.to24H(this.props.startTime)," to ",this.to24H(this.props.endTime)]}),Object(d.jsx)("p",{className:"text-center text-truncate",children:this.props.info})]})})}}]),s}(r.a.Component),O=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(a.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).forceScheduleUpdate=function(){e.forceUpdate()},e.sortTimeSlots=function(e){for(var t,s=0;s<e.length;s++){t=s;for(var n=s+1;n<e.length;n++)(e[t][1]>e[n][1]||e[t][2]>e[n][2])&&(t=n);var r=e[s];e[s]=e[t],e[t]=r}return e},e.determineClasses=function(t){for(var s=[],n=0;n<t.length;n++){var r=new Date,i=new Date;i.setMinutes(i.getMinutes()+10);var c=e.stringToDate(t[n][1]);r<=e.stringToDate(t[n][2])||""===t[n][2]?c<=r?s.push("classInProgress"):c<=i?s.push("classSoon"):s.push("classInFuture"):s.push("classOver")}return s},e.stringToDate=function(e){var t=e.substring(0,2),s=e.substring(3,5),n=new Date;return n.setHours(parseInt(t)),n.setMinutes(parseInt(s)),n.setSeconds(0),n},e}return Object(l.a)(s,[{key:"render",value:function(){for(var e=new Date,t=[],s=[],n=0;n<this.props.schedule.length;n++)this.props.schedule[n][e.getDay()+4]&&t.push(this.props.schedule[n]);if(t.length>0){t=this.sortTimeSlots(t);var r=this.determineClasses(t);s=t.map((function(e,t){return Object(d.jsx)(m,{name:e[0],info:e[3],startTime:e[1],endTime:e[2],when:r[t]},"ts"+t)}))}else s=0===this.props.schedule.length?Object(d.jsx)("h1",{children:"Click [Edit Schedule] Above to Add Classes"}):Object(d.jsx)("h1",{children:"No Classes Today"});return Object(d.jsx)("div",{children:s})}},{key:"componentDidMount",value:function(){var e=this,t=6e4-1e3*(new Date).getSeconds();this.waitUntilMinute=setInterval((function(){return e.repeatEveryMin()}),t)}},{key:"repeatEveryMin",value:function(){var e=this;clearInterval(this.waitUntilMinute),this.forceUpdate(),this.interval=setInterval((function(){return e.forceUpdate()}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),clearInterval(this.waitUntilMinute)}}]),s}(r.a.Component),x=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).stringToDate=function(e){if(null!=e){var t=e.substring(0,2),s=e.substring(3,5),n=new Date;return n.setHours(parseInt(t)),n.setMinutes(parseInt(s)),n.setSeconds(0),n}},n.handleClick=function(e){n.setState({timeSlot:Object(d.jsx)(m,{when:"classInFuture",name:n.props.schedule[e.target.id][0],info:n.props.schedule[e.target.id][3],startTime:n.props.schedule[e.target.id][1],endTime:n.props.schedule[e.target.id][2]})})},n.state={timeSlot:null},n}return Object(l.a)(s,[{key:"render",value:function(){for(var e=this,t=24,s=0,n=[],r=0;r<this.props.schedule.length;r++){var i=this.stringToDate(this.props.schedule[r][1]),c=this.stringToDate(this.props.schedule[r][2]);i.getHours()<t&&(t=i.getHours()),c.getHours()>s&&(s=c.getHours())}var a=[];for(r=0;r<this.props.schedule.length;r++){i=this.stringToDate(this.props.schedule[r][1]);for(var l=60*((c=this.stringToDate(this.props.schedule[r][2])).getHours()-i.getHours())+c.getMinutes()-i.getMinutes(),o=0;o<7;o++)this.props.schedule[r][o+4]&&a.push(Object(d.jsxs)("div",{id:r,className:"block",onClick:this.handleClick,style:{height:l+"px",top:60*i.getHours()+i.getMinutes()-60*(t-1)+"px",left:12.5*(o+1)+"%"},children:[Object(d.jsx)("p",{className:"text-center text-truncate text-wrap",children:this.props.schedule[r][0]}),Object(d.jsx)("p",{className:"text-center text-truncate text-wrap",children:this.props.schedule[r][3]})]}))}for(r=t;r<=s;r++)n.push(Object(d.jsx)(g,{time:r}));return 0===this.props.schedule.length?Object(d.jsx)("h1",{children:"Click [Edit Schedule] Above to Add Classes"}):Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"weekly",children:[this.state.timeSlot,Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("thead",{onClick:function(){return e.setState({timeSlot:null})},children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("p",{children:"Time"})}),Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("p",{children:"Sun"})}),Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("p",{children:"Mon"})}),Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("p",{children:"Tue"})}),Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("p",{children:"Wed"})}),Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("p",{children:"Thu"})}),Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("p",{children:"Fri"})}),Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("p",{children:"Sat"})})]})}),Object(d.jsx)("tbody",{onClick:function(){return e.setState({timeSlot:null})},children:n}),a,Object(d.jsx)(k,{startHr:t,endHr:s})]})]})})}}]),s}(r.a.Component),g=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e=this.props.time;if(isNaN(e))var t="";else{t=e<12?"AM":"PM";e>12?e%=12:0===e&&(e=12)}return Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"row",style:{verticalAlign:"top"},children:Object(d.jsx)("p",{children:e+" "+t})}),Object(d.jsx)("td",{}),Object(d.jsx)("td",{}),Object(d.jsx)("td",{}),Object(d.jsx)("td",{}),Object(d.jsx)("td",{}),Object(d.jsx)("td",{}),Object(d.jsx)("td",{})]})}}]),s}(r.a.Component),k=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(a.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).intToDate=function(e){if(!isNaN(e)){var t=new Date;return t.setHours(e),t.setMinutes(0),t.setSeconds(0),t}},e}return Object(l.a)(s,[{key:"render",value:function(){var e=new Date;return e>this.intToDate(this.props.startHr)&&e<this.intToDate(this.props.endHr+1)?Object(d.jsx)("div",{id:"currentTime",className:"line",onClick:this.handleClick,style:{top:60*e.getHours()+e.getMinutes()-60*(this.props.startHr-1)+"px",left:12.5+12.5*(new Date).getDay()+"%"}}):null}},{key:"handleClick",value:function(){document.getElementById("currentTime").style.display="none"}},{key:"componentDidMount",value:function(){var e=this,t=6e4-1e3*(new Date).getSeconds();this.waitUntilMinute=setInterval((function(){return e.repeatEveryMin()}),t)}},{key:"repeatEveryMin",value:function(){var e=this;clearInterval(this.waitUntilMinute),this.forceUpdate(),this.interval=setInterval((function(){return e.forceUpdate()}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),clearInterval(this.waitUntilMinute)}}]),s}(r.a.Component),y=x,w=s(6),C=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(e){var n;Object(a.a)(this,s),(n=t.call(this,e)).updateTimeSlot=function(e,t,s){var r=n.state.schedule;r[e][t]=s,n.setState({schedule:r},(function(){n.saveSchedule()}))},n.addTimeSlot=function(){var e=n.state.schedule;e.push(["","11:30","13:30","",!1,!1,!1,!1,!1,!1,!1]),n.setState({schedule:e},(function(){n.saveSchedule()}))},n.removeTimeSlot=function(e){var t=n.state.schedule;t.splice(e,1),n.setState({schedule:t},(function(){n.saveSchedule()}))},n.toggleWeekly=function(e){var t=!n.state.weekly;n.setState({weekly:t},(function(){n.saveSchedule()}))},n.saveSchedule=function(){if(n.state.weekly)var e="1";else e="0";0!==n.state.schedule.length&&(e+=">");for(var t=0;t<n.state.schedule.length;t++){e+=n.state.schedule[t][0]+"<"+n.state.schedule[t][1]+"<"+n.state.schedule[t][2]+"<"+n.state.schedule[t][3]+"<";for(var s=0;s<7;s++)n.state.schedule[t][s+4]&&(e+=s+"<");t!==n.state.schedule.length-1&&(e+=">")}var r;r=""!==e?Object(w.compressToBase64)(e):"";var i=new URL(window.location);i.search=r,window.history.pushState({},"",i)};var r=[],i=window.location.href,c=i.indexOf("?");i=i.substring(c+1);var l=Object(w.decompressFromBase64)(i),o=!1;if(-1!==c){o="1"===l.substring(0,1);for(var h=l.split(">"),d=1;d<h.length;d++){for(var u=h[d].split("<"),p=[!1,!1,!1,!1,!1,!1,!1],j=4;j<u.length;j++)p[parseInt(u[j])]=!0;r.push([u[0],u[1],u[2],u[3],p[0],p[1],p[2],p[3],p[4],p[5],p[6]])}}return n.state={schedule:r,weekly:o},n}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(f,{schedule:this.state.schedule,updateSchedule:this.updateTimeSlot,addToSchedule:this.addTimeSlot,removeFromSchedule:this.removeTimeSlot,toggleWeekly:this.toggleWeekly,weekly:this.state.weekly}),this.state.weekly?Object(d.jsx)(y,{schedule:this.state.schedule}):Object(d.jsx)(O,{schedule:this.state.schedule})]})}}]),s}(r.a.Component);c.a.render(Object(d.jsx)(C,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.f5db63b1.chunk.js.map