(this.webpackJsonpschedule=this.webpackJsonpschedule||[]).push([[0],{14:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(8),i=s.n(a),r=s(2),l=s(3),o=s(5),h=s(4),d=s(0),u=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).to24H=function(e){var t=parseInt(e.substring(0,2)),s=e.substring(3,5);if(isNaN(t)||isNaN(s))return"--:--";var n=t<12?"AM":"PM";return t>12&&(t%=12),t+":"+s+" "+n},e.handleClick=function(t){if(e.props.info.includes(".")&&(e.props.info.includes("http://")||e.props.info.includes("https://")))try{window.open(new URL(e.props.info),"_blank").focus()}catch(s){console.log(e.props.info+" is an Invalid URL")}},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsx)("div",{className:this.props.when,children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-sm-6",children:[Object(d.jsx)("h1",{className:"text-center text-truncate",children:this.props.name}),Object(d.jsxs)("p",{className:"text-center text-nowrap",children:[this.to24H(this.props.startTime)," to ",this.to24H(this.props.endTime)]})]}),Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)("button",{onClick:this.handleClick,className:"btn btn-info",children:this.props.info})})]})})}}]),s}(c.a.Component),p=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).forceScheduleUpdate=function(){e.forceUpdate()},e.sortTimeSlots=function(e){for(var t,s=0;s<e.length;s++){t=s;for(var n=s+1;n<e.length;n++)(e[t][1]>e[n][1]||e[t][2]>e[n][2])&&(t=n);var c=e[s];e[s]=e[t],e[t]=c}return e},e.determineClasses=function(t){for(var s=[],n=0;n<t.length;n++){var c=new Date,a=new Date;a.setMinutes(a.getMinutes()+10);var i=e.stringToDate(t[n][1]);c<=e.stringToDate(t[n][2])||""===t[n][2]?i<=c?s.push("classInProgress"):i<=a?s.push("classSoon"):s.push("classInFuture"):s.push("classOver")}return s},e.stringToDate=function(e){var t=e.substring(0,2),s=e.substring(3,5),n=new Date;return n.setHours(parseInt(t)),n.setMinutes(parseInt(s)),n.setSeconds(0),n},e}return Object(l.a)(s,[{key:"render",value:function(){for(var e=new Date,t=[],s=[],n=0;n<this.props.schedule.length;n++)this.props.schedule[n][e.getDay()+4]&&t.push(this.props.schedule[n]);if(t.length>0){t=this.sortTimeSlots(t);var c=this.determineClasses(t);s=t.map((function(e,t){return Object(d.jsx)(u,{name:e[0],info:e[3],startTime:e[1],endTime:e[2],when:c[t]},t)}))}else s=0===this.props.schedule.length?Object(d.jsx)("h1",{children:"Click [Edit Schedule] Above to Add Classes"}):Object(d.jsx)("h1",{children:"No Classes Today"});return Object(d.jsx)("div",{children:s})}},{key:"componentDidMount",value:function(){var e=this,t=6e4-1e3*(new Date).getSeconds();this.waitUntilMinute=setInterval((function(){return e.repeatEveryMin()}),t)}},{key:"repeatEveryMin",value:function(){var e=this;clearInterval(this.waitUntilMinute),this.forceUpdate(),this.interval=setInterval((function(){return e.forceUpdate()}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),clearInterval(this.waitUntilMinute)}}]),s}(c.a.Component),m=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).handleChange=function(t){var s=t.target;s.value.includes(">")||s.value.includes("<")||e.props.updateSchedule(e.props.id,parseInt(s.id),s.value)},e.handleChecked=function(t){var s=t.target;e.props.updateSchedule(e.props.id,parseInt(s.id),s.checked)},e.handleDelete=function(t){window.confirm("Are you sure you want to delete this from your schedule?")&&e.props.removeFromSchedule(e.props.id)},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"tsEditor",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-sm-6 name",children:Object(d.jsx)("input",{id:"0",type:"text",onChange:this.handleChange,value:this.props.name,placeholder:"Name"})}),Object(d.jsx)("div",{className:"col-sm-6 link",children:Object(d.jsx)("input",{id:"3",type:"text",onChange:this.handleChange,value:this.props.info,placeholder:"Class Location or Link with http(s)://"})})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-sm-6 times",children:[Object(d.jsx)("input",{id:"1",type:"time",onChange:this.handleChange,required:!0,value:this.props.startTime}),Object(d.jsx)("input",{id:"2",type:"time",onChange:this.handleChange,value:this.props.endTime})]}),Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsxs)("div",{className:"checks",children:[Object(d.jsxs)("div",{className:"form-check form-check-inline",children:[Object(d.jsx)("input",{id:"4",className:"form-check-input",type:"checkbox",onChange:this.handleChecked,checked:this.props.sun}),Object(d.jsx)("label",{htmlFor:"4",className:"form-check-label",children:"Sun"})]}),Object(d.jsxs)("div",{className:"form-check form-check-inline",children:[Object(d.jsx)("input",{id:"5",className:"form-check-input",type:"checkbox",onChange:this.handleChecked,checked:this.props.mon}),Object(d.jsx)("label",{htmlFor:"5",className:"form-check-label",children:"Mon"})]}),Object(d.jsxs)("div",{className:"form-check form-check-inline",children:[Object(d.jsx)("input",{id:"6",className:"form-check-input",type:"checkbox",onChange:this.handleChecked,checked:this.props.tue}),Object(d.jsx)("label",{htmlFor:"6",className:"form-check-label",children:"Tue"})]}),Object(d.jsxs)("div",{className:"form-check form-check-inline",children:[Object(d.jsx)("input",{id:"7",className:"form-check-input",type:"checkbox",onChange:this.handleChecked,checked:this.props.wed}),Object(d.jsx)("label",{htmlFor:"7",className:"form-check-label",children:"Wed"})]}),Object(d.jsxs)("div",{className:"form-check form-check-inline",children:[Object(d.jsx)("input",{id:"8",className:"form-check-input",type:"checkbox",onChange:this.handleChecked,checked:this.props.thu}),Object(d.jsx)("label",{htmlFor:"8",className:"form-check-label",children:"Thu"})]}),Object(d.jsxs)("div",{className:"form-check form-check-inline",children:[Object(d.jsx)("input",{id:"9",className:"form-check-input",type:"checkbox",onChange:this.handleChecked,checked:this.props.fri}),Object(d.jsx)("label",{htmlFor:"9",className:"form-check-label",children:"Fri"})]}),Object(d.jsxs)("div",{className:"form-check form-check-inline",children:[Object(d.jsx)("input",{id:"10",className:"form-check-input",type:"checkbox",onChange:this.handleChecked,checked:this.props.sat}),Object(d.jsx)("label",{htmlFor:"10",className:"form-check-label",children:"Sat"})]})]})})]}),Object(d.jsx)("button",{className:"btn btn-danger btn-sm delete",onClick:this.handleDelete,children:"Delete From Schedule"})]})}}]),s}(c.a.Component),j=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).handleAdd=function(e){n.props.addToSchedule()},n.state={editorActive:!1},n}return Object(l.a)(s,[{key:"render",value:function(){var e=this,t=this.props.schedule.map((function(t,s){return Object(d.jsx)(m,{id:s,updateSchedule:e.props.updateSchedule,removeFromSchedule:e.props.removeFromSchedule,name:t[0],startTime:t[1],endTime:t[2],info:t[3],sun:t[4],mon:t[5],tue:t[6],wed:t[7],thu:t[8],fri:t[9],sat:t[10]},s)})),s=Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{className:"editorInfo",children:[" ",this.props.msg," "]}),Object(d.jsx)("div",{className:"editors",children:t}),Object(d.jsx)("button",{className:"btn btn-primary",onClick:this.handleAdd,children:"Add Class"}),Object(d.jsx)("hr",{})]});return Object(d.jsxs)("div",{className:"Editor",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)(b,{})}),Object(d.jsx)("div",{className:"col-sm-6 editSchedule",children:Object(d.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.setState({editorActive:!e.state.editorActive})},children:this.state.editorActive?"Close Editor":"Edit Schedule"})})]}),this.state.editorActive?s:Object(d.jsx)("hr",{})]})}}]),s}(c.a.Component),b=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e=(new Date).toString(),t=e.substring(0,10),s=parseInt(e.substring(16,18)),n=e.substring(19,24),c=s<12?"AM":"PM";return s>12&&(s%=12),Object(d.jsx)("button",{type:"button",className:"btn btn-secondary",children:t+" - "+s+":"+n+" "+c})}},{key:"componentDidMount",value:function(){var e=this;this.waitForNextSecond=setInterval((function(){return e.repeatEverySecond()}),1e3-(new Date).getMilliseconds())}},{key:"repeatEverySecond",value:function(){var e=this;clearInterval(this.waitForNextSecond),this.forceUpdate(),this.interval=setInterval((function(){return e.forceUpdate()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),clearInterval(this.waitForNextSecond)}}]),s}(c.a.Component),v=j,f=s(6),O=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(e){var n;Object(r.a)(this,s),(n=t.call(this,e)).updateTimeSlot=function(e,t,s){var c=n.state.schedule;c[e][t]=s,n.setState({schedule:c}),n.saveSchedule()},n.addTimeSlot=function(){var e=n.state.schedule;e.push(["","11:30","13:30","",!1,!1,!1,!1,!1,!1,!1]),n.setState({schedule:e}),n.saveSchedule()},n.removeTimeSlot=function(e){var t=n.state.schedule;t.splice(e,1),n.setState({schedule:t}),n.saveSchedule()},n.saveSchedule=function(){for(var e,t="",s=0;s<n.state.schedule.length;s++){t+=n.state.schedule[s][0]+"<"+n.state.schedule[s][1]+"<"+n.state.schedule[s][2]+"<"+n.state.schedule[s][3]+"<";for(var c=0;c<7;c++)n.state.schedule[s][c+4]&&(t+=c+"<");s!==n.state.schedule.length-1&&(t+=">")}e=""!==t?Object(f.compressToBase64)(t):"";var a=new URL(window.location);a.search=e,window.history.pushState({},"",a)};var c=[],a=window.location.href,i=a.indexOf("?");a=a.substring(i+1);var l=Object(f.decompressFromBase64)(a);if(-1!==i)for(var o=l.split(">"),h=0;h<o.length;h++){for(var d=o[h].split("<"),u=[!1,!1,!1,!1,!1,!1,!1],p=4;p<d.length;p++)u[parseInt(d[p])]=!0;c.push([d[0],d[1],d[2],d[3],u[0],u[1],u[2],u[3],u[4],u[5],u[6]])}return n.state={schedule:c},n}return Object(l.a)(s,[{key:"render",value:function(){var e;return e=window.location.href.length>=2e3?"Warning: The schedule link is too big (>2000 chars). If you have links, try using a link shortener like bit.ly to shorten the links":this.state.schedule.length>0?"You can save your schedule by bookmarking this page or copying the link in the address bar":"Your schedule is currently empty. Click [Add Class] below to add a new class",Object(d.jsxs)("div",{children:[Object(d.jsx)(v,{schedule:this.state.schedule,updateSchedule:this.updateTimeSlot,addToSchedule:this.addTimeSlot,removeFromSchedule:this.removeTimeSlot,msg:e}),Object(d.jsx)(p,{schedule:this.state.schedule})]})}}]),s}(c.a.Component);i.a.render(Object(d.jsx)(O,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.3f7eb4e1.chunk.js.map