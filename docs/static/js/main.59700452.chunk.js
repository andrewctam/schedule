(this.webpackJsonpschedule=this.webpackJsonpschedule||[]).push([[0],{14:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),r=s(8),i=s.n(r),c=s(2),o=s(3),l=s(5),h=s(4),d=s(0),u=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).to24H=function(e){var t=parseInt(e.substring(0,2)),s=e.substring(3,5);if(isNaN(t)||isNaN(s))return"--:--";var n=t<12?"AM":"PM";return t>12?t%=12:0===t&&(t=12),t+":"+s+" "+n},e.handleClick=function(t){if(e.props.info.includes(".")&&(e.props.info.includes("http://")||e.props.info.includes("https://")))try{window.open(new URL(e.props.info),"_blank").focus()}catch(s){console.log(e.props.info+" is an Invalid URL")}},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsxs)("button",{onClick:this.handleClick,className:"btn btn-info "+this.props.when,children:[Object(d.jsx)("h1",{className:"text-center text-truncate",children:this.props.name}),Object(d.jsxs)("h6",{className:"text-center text-truncate",children:[this.to24H(this.props.startTime)," to ",this.to24H(this.props.endTime)]}),Object(d.jsx)("p",{className:"text-center text-truncate",children:this.props.info})]})})}}]),s}(a.a.Component),p=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).forceScheduleUpdate=function(){e.forceUpdate()},e.sortTimeSlots=function(e){for(var t,s=0;s<e.length;s++){t=s;for(var n=s+1;n<e.length;n++)(e[t][1]>e[n][1]||e[t][2]>e[n][2])&&(t=n);var a=e[s];e[s]=e[t],e[t]=a}return e},e.determineClasses=function(t){for(var s=[],n=0;n<t.length;n++){var a=new Date,r=new Date;r.setMinutes(r.getMinutes()+10);var i=e.stringToDate(t[n][1]);a<=e.stringToDate(t[n][2])||""===t[n][2]?i<=a?s.push("classInProgress"):i<=r?s.push("classSoon"):s.push("classInFuture"):s.push("classOver")}return s},e.stringToDate=function(e){var t=e.substring(0,2),s=e.substring(3,5),n=new Date;return n.setHours(parseInt(t)),n.setMinutes(parseInt(s)),n.setSeconds(0),n},e}return Object(o.a)(s,[{key:"render",value:function(){for(var e=new Date,t=[],s=[],n=0;n<this.props.schedule.length;n++)this.props.schedule[n][e.getDay()+4]&&t.push(this.props.schedule[n]);if(t.length>0){t=this.sortTimeSlots(t);var a=this.determineClasses(t);s=t.map((function(e,t){return Object(d.jsx)(u,{name:e[0],info:e[3],startTime:e[1],endTime:e[2],when:a[t]},"ts"+t)}))}else s=0===this.props.schedule.length?Object(d.jsx)("h1",{children:"Click [Edit Schedule] Above to Add Classes"}):Object(d.jsx)("h1",{children:"No Classes Today"});return Object(d.jsx)("div",{children:s})}},{key:"componentDidMount",value:function(){var e=this,t=6e4-1e3*(new Date).getSeconds();this.waitUntilMinute=setInterval((function(){return e.repeatEveryMin()}),t)}},{key:"repeatEveryMin",value:function(){var e=this;clearInterval(this.waitUntilMinute),this.forceUpdate(),this.interval=setInterval((function(){return e.forceUpdate()}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),clearInterval(this.waitUntilMinute)}}]),s}(a.a.Component),j=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).handleChange=function(t){var s=t.target;s.value.includes(">")||s.value.includes("<")||e.props.updateSchedule(e.props.id,parseInt(s.id),s.value)},e.handleChecked=function(t){var s=t.target;e.props.updateSchedule(e.props.id,parseInt(s.id),s.checked)},e.handleDelete=function(t){window.confirm("Are you sure you want to delete this from your schedule?")&&e.props.removeFromSchedule(e.props.id)},e}return Object(o.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"tsEditor",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-sm-6 name",children:Object(d.jsx)("input",{id:"0",type:"text",onChange:this.handleChange,value:this.props.name,placeholder:"Name"})}),Object(d.jsx)("div",{className:"col-sm-6 link",children:Object(d.jsx)("input",{id:"3",type:"text",onChange:this.handleChange,value:this.props.info,placeholder:"Class Location or Link with http(s)://"})})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-sm-6 times",children:[Object(d.jsx)("input",{id:"1",type:"time",onChange:this.handleChange,required:!0,value:this.props.startTime}),Object(d.jsx)("input",{id:"2",type:"time",onChange:this.handleChange,value:this.props.endTime})]}),Object(d.jsxs)("div",{className:"col-sm-6 checks",children:[Object(d.jsx)(b,{i:"4",dateBool:this.props.sun,date:"Sun",handleChecked:this.handleChecked}),Object(d.jsx)(b,{i:"5",dateBool:this.props.mon,date:"Mon",handleChecked:this.handleChecked}),Object(d.jsx)(b,{i:"6",dateBool:this.props.tue,date:"Tue",handleChecked:this.handleChecked}),Object(d.jsx)(b,{i:"7",dateBool:this.props.wed,date:"Wed",handleChecked:this.handleChecked}),Object(d.jsx)(b,{i:"8",dateBool:this.props.thu,date:"Thu",handleChecked:this.handleChecked}),Object(d.jsx)(b,{i:"9",dateBool:this.props.fri,date:"Fri",handleChecked:this.handleChecked}),Object(d.jsx)(b,{i:"10",dateBool:this.props.sat,date:"Sat",handleChecked:this.handleChecked})]})]}),Object(d.jsx)("button",{className:"btn btn-danger btn-sm delete",onClick:this.handleDelete,children:"Delete From Schedule"})]})}}]),s}(a.a.Component),b=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"form-check form-check-inline",children:[Object(d.jsx)("input",{id:this.props.i,className:"form-check-input",type:"checkbox",onChange:this.props.handleChecked,checked:this.props.dateBool}),Object(d.jsx)("label",{htmlFor:this.props.i,className:"form-check-label",children:this.props.date})]})}}]),s}(a.a.Component),v=j,m=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).handleAdd=function(e){n.props.addToSchedule()},n.state={editorActive:!1},n}return Object(o.a)(s,[{key:"render",value:function(){var e,t=this,s=this.props.schedule.map((function(e,s){return Object(d.jsx)(v,{id:s,updateSchedule:t.props.updateSchedule,removeFromSchedule:t.props.removeFromSchedule,name:e[0],startTime:e[1],endTime:e[2],info:e[3],sun:e[4],mon:e[5],tue:e[6],wed:e[7],thu:e[8],fri:e[9],sat:e[10]},"tse"+s)}));e=window.location.href.length>=2e3?Object(d.jsx)("p",{className:"editorInfo",children:"Warning: The schedule link is too big (>2000 chars). If you have links, try using a link shortener like bit.ly to shorten the links"}):this.props.schedule.length>0?Object(d.jsxs)("p",{className:"editorInfo",children:["You can save your schedule by bookmarking this page or copying "," ",Object(d.jsx)("a",{href:window.location.href,children:"this link"})," (same as link in address bar)"]}):Object(d.jsx)("p",{className:"editorInfo",children:"Your schedule is currently empty. Click [Add Class] below to add a new class"});var n=Object(d.jsxs)("div",{children:[e,Object(d.jsx)("div",{className:"editors",children:s}),Object(d.jsx)("button",{className:"btn btn-primary",onClick:this.handleAdd,children:"Add Class"}),Object(d.jsx)("hr",{})]});return Object(d.jsxs)("div",{className:"Editor",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-sm-6",children:Object(d.jsx)(f,{})}),Object(d.jsx)("div",{className:"col-sm-6 editSchedule",children:Object(d.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return t.setState({editorActive:!t.state.editorActive})},children:this.state.editorActive?"Close Editor":"Edit Schedule"})})]}),this.state.editorActive?n:Object(d.jsx)("hr",{})]})}}]),s}(a.a.Component),f=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=(new Date).toString(),t=e.substring(0,10),s=parseInt(e.substring(16,18)),n=e.substring(19,24),a=s<12?"AM":"PM";return s>12?s%=12:0===s&&(s=12),Object(d.jsx)("button",{type:"button",className:"btn btn-secondary",children:t+" - "+s+":"+n+" "+a})}},{key:"componentDidMount",value:function(){var e=this;this.waitForNextSecond=setInterval((function(){return e.repeatEverySecond()}),1e3-(new Date).getMilliseconds())}},{key:"repeatEverySecond",value:function(){var e=this;clearInterval(this.waitForNextSecond),this.forceUpdate(),this.interval=setInterval((function(){return e.forceUpdate()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),clearInterval(this.waitForNextSecond)}}]),s}(a.a.Component),O=m,x=s(6),k=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(e){var n;Object(c.a)(this,s),(n=t.call(this,e)).updateTimeSlot=function(e,t,s){var a=n.state.schedule;a[e][t]=s,n.setState({schedule:a}),n.saveSchedule()},n.addTimeSlot=function(){var e=n.state.schedule;e.push(["","11:30","13:30","",!1,!1,!1,!1,!1,!1,!1]),n.setState({schedule:e}),n.saveSchedule()},n.removeTimeSlot=function(e){var t=n.state.schedule;t.splice(e,1),n.setState({schedule:t}),n.saveSchedule()},n.saveSchedule=function(){for(var e,t="",s=0;s<n.state.schedule.length;s++){t+=n.state.schedule[s][0]+"<"+n.state.schedule[s][1]+"<"+n.state.schedule[s][2]+"<"+n.state.schedule[s][3]+"<";for(var a=0;a<7;a++)n.state.schedule[s][a+4]&&(t+=a+"<");s!==n.state.schedule.length-1&&(t+=">")}e=""!==t?Object(x.compressToBase64)(t):"";var r=new URL(window.location);r.search=e,window.history.pushState({},"",r)};var a=[],r=window.location.href,i=r.indexOf("?");r=r.substring(i+1);var o=Object(x.decompressFromBase64)(r);if(-1!==i)for(var l=o.split(">"),h=0;h<l.length;h++){for(var d=l[h].split("<"),u=[!1,!1,!1,!1,!1,!1,!1],p=4;p<d.length;p++)u[parseInt(d[p])]=!0;a.push([d[0],d[1],d[2],d[3],u[0],u[1],u[2],u[3],u[4],u[5],u[6]])}return n.state={schedule:a},n}return Object(o.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(O,{schedule:this.state.schedule,updateSchedule:this.updateTimeSlot,addToSchedule:this.addTimeSlot,removeFromSchedule:this.removeTimeSlot}),Object(d.jsx)(p,{schedule:this.state.schedule})]})}}]),s}(a.a.Component);i.a.render(Object(d.jsx)(k,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.59700452.chunk.js.map